(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{155:function(e,t,n){},181:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(15),o=n.n(a),i=(n(155),n(135)),s=n(246),l=n(5),u=n(17),d={palette:{type:"dark",text:{primary:"#ffffff"}}},j={palette:{type:"light",text:{primary:"#000000"},background:{default:"#eaeaea"}}},b=n(4),p=n(233),f=n(252),h=n(247),O=n(243),g=n(244),m=n(227),x=n(47),v=n(238),k=n(228),y=n(245),w=n(131),C=n.n(w),N=n(134),S=n.n(N),P=n(132),_=n.n(P),T=n(133),F=n.n(T),E=n(183),B=n(221),I=n(222),M=n(223),L=n(119),U=n.n(L),R=n(120),W=n.n(R),A=n(118),D=n.n(A),z=n(121),H=n.n(z),Y={textDecoration:"none",color:"inherit"},q={textDecoration:"none",color:"#aba3c6"},G=n(22),J=n(27),$=n(69),K="create",V="myProfileFetch",X="usersFetch",Q="activeUserFetch",Z="delete",ee="edit",te="completeStatus",ne="projectsLoading",ce="tasksLoading",re="orderChange",ae=n(113),oe=ae.create({withCredentials:!0,baseURL:"".concat("https://alex-react-node.herokuapp.com","/api/")}),ie=oe,se={getMyProfile:function(){return ie.get("user/home").then((function(e){return e.data}))},getUsers:function(){return ie.get("user/").then((function(e){return e.data}))},getUser:function(e){return ie.get("user/".concat(e)).then((function(e){return e.data}))}},le=se,ue={pending:{myProfileFetching:!1,activeUserFetching:!1,usersFetching:!1},totalUsersCount:0,authUser:null,activeUser:null,users:[],err:null},de=Object(G.b)({name:"user",initialState:ue,reducers:{pending:function(e,t){e.pending[t.payload.action]=!0},stopPending:function(e,t){e.pending[t.payload.action]=!1},setAuthUser:function(e,t){e.authUser=t.payload},setActiveUser:function(e,t){e.activeUser=t.payload},clearActiveUser:function(e){e.activeUser=null},setUsers:function(e,t){e.users=[].concat(Object(J.a)(e.users),Object(J.a)(t.payload))},incrementAuthUserProjectsCount:function(e){e.authUser&&e.authUser.projectsCount++},decrementAuthUserProjectsCount:function(e){e.authUser&&e.authUser.projectsCount--},setTotalUsersCount:function(e,t){e.totalUsersCount=t.payload},reset:function(){return ue}}}),je=de.actions,be=je.pending,pe=je.stopPending,fe=je.setAuthUser,he=je.setActiveUser,Oe=je.clearActiveUser,ge=je.setUsers,me=je.setTotalUsersCount,xe=je.incrementAuthUserProjectsCount,ve=je.decrementAuthUserProjectsCount,ke=je.reset,ye=function(e){return e.user.authUser},we=function(e){return e.user.pending},Ce=function(e){return e.user.users},Ne=function(e){return e.user.activeUser},Se=de.reducer,Pe={newProject:function(e){return ie.post("projects",e).then((function(e){return e.data}))},getProjects:function(e,t,n){var c="projects/?page=".concat(t||1,"&count=").concat(n||20);return e?ie.get("".concat(e,"/").concat(c)):ie.get(c)},getProject:function(e){return ie.get("projects/".concat(e))},deleteProject:function(e){return ie.delete("projects/".concat(e))},editProject:function(e){return ie.put("projects/".concat(e._id),e)}},_e=Pe,Te={pending:{create:!1,projectsLoading:!1,delete:[]},activeProject:null,projectsPage:0,projects:[],editMode:[],error:null,isFetched:!1,projectCreated:!1},Fe=Object(G.b)({name:"project",initialState:Te,reducers:{pending:function(e,t){t.payload.action!==Z?e.pending[t.payload.action]=!0:e.pending[t.payload.action]=[].concat(Object(J.a)(e.pending[t.payload.action]),[t.payload.id])},stopPending:function(e,t){t.payload.action!==Z?e.pending[t.payload.action]=!1:e.pending[t.payload.action]=Object(J.a)(e.pending[t.payload.action].filter((function(e){return e!==t.payload.id})))},firstLoadComplete:function(e){e.isFetched=!0},setProjects:function(e,t){e.projects=[].concat(Object(J.a)(e.projects),Object(J.a)(t.payload))},setActiveProject:function(e,t){e.activeProject=t.payload},addProjectToBegining:function(e,t){e.projects=[t.payload].concat(Object(J.a)(e.projects)),e.projectCreated=!0},updateProject:function(e,t){var n=!1;e.projects=e.projects.map((function(e){return n||e._id!==t.payload._id?e:(n=!0,t.payload)}))},projectCreatedStatusToDefault:function(e){e.projectCreated=!1},deleteProject:function(e,t){e.projects=e.projects.filter((function(e){return e._id!==t.payload}))},turnEditModeOn:function(e,t){e.editMode=[].concat(Object(J.a)(e.editMode),[t.payload])},turnEditModeOff:function(e,t){e.editMode=Object(J.a)(e.editMode.filter((function(e){return e!==t.payload})))},failure:function(e,t){e.error=t.payload},clearError:function(e){e.error=null},reset:function(){return Te}}}),Ee=Fe.actions,Be=Ee.setProjects,Ie=Ee.addProjectToBegining,Me=Ee.updateProject,Le=Ee.failure,Ue=Ee.clearError,Re=Ee.pending,We=Ee.setActiveProject,Ae=Ee.stopPending,De=Ee.firstLoadComplete,ze=Ee.projectCreatedStatusToDefault,He=Ee.deleteProject,Ye=Ee.turnEditModeOn,qe=Ee.turnEditModeOff,Ge=Ee.reset,Je=function(e){return e.project.projects},$e=function(e){return e.project.error},Ke=function(e){return e.project.activeProject},Ve=function(e){return e.project.pending},Xe=function(e){return e.project.isFetched},Qe=function(e){return e.project.projectCreated},Ze=function(e){return e.project.editMode},et=Fe.reducer,tt={authMe:function(){return ie.get("authme").then((function(e){return e.data}))},logout:function(){return ie.delete("login")},login:function(e,t,n){return ie.post("login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},signUp:function(e,t,n,c,r){return ie.post("signup",{name:e,surname:t,alias:n,email:c,password:r},{withCredentials:!1})},forgotPassword:function(e){return ie.post("login/forgotPassword",{email:e})},resetPassword:function(e,t){return ie.put("login/resetPassword",{password:e,resetCode:t})}},nt=Object(G.b)({name:"auth",initialState:{isFetching:!0,isAuthorized:!1,userId:null,error:null},reducers:{pending:function(e){e.isFetching=!0},success:function(e,t){e.isFetching=!1,e.userId=t.payload,e.isAuthorized=!0},failure:function(e,t){e.isFetching=!1,e.isAuthorized=!1,e.error=t.payload},notAuthorized:function(e){e.isAuthorized=!1,e.isFetching=!1},clearError:function(e){e.error=null}}}),ct=nt.actions,rt=ct.success,at=(ct.failure,ct.clearError,ct.pending),ot=ct.notAuthorized,it=function(e){return e.auth.isFetching},st=function(e){return e.auth.isAuthorized},lt=function(){return function(e){e(at()),tt.authMe().then((function(t){return t.user?e(rt(t.user)):e(ot())})).catch((function(t){t&&(e(t.response.data),console.log(t))}))}},ut=nt.reducer,dt=function(){var e=Object(l.c)(st),t=Object(l.c)(it);return!e&&!t},jt=n(1),bt=function(){var e=dt(),t=Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(u.b,{style:Y,to:"/home",children:Object(jt.jsxs)(E.a,{button:!0,children:[Object(jt.jsx)(B.a,{children:Object(jt.jsx)(D.a,{})}),Object(jt.jsx)(I.a,{primary:"Home"})]})}),Object(jt.jsx)(u.b,{style:Y,to:"/projects",children:Object(jt.jsxs)(E.a,{button:!0,children:[Object(jt.jsx)(B.a,{children:Object(jt.jsx)(U.a,{})}),Object(jt.jsx)(I.a,{primary:"Projects"})]})})]});return Object(jt.jsxs)("div",{children:[e?"":t,Object(jt.jsx)(u.b,{style:Y,to:"/users",children:Object(jt.jsxs)(E.a,{button:!0,children:[Object(jt.jsx)(B.a,{children:Object(jt.jsx)(W.a,{})}),Object(jt.jsx)(I.a,{primary:"Users"})]})})]})},pt=Object(jt.jsxs)("div",{children:[Object(jt.jsx)(M.a,{inset:!0,children:"Saved reports"}),Object(jt.jsxs)(E.a,{button:!0,children:[Object(jt.jsx)(B.a,{children:Object(jt.jsx)(H.a,{})}),Object(jt.jsx)(I.a,{primary:"Current month"})]})]}),ft=n(26),ht=n(8),Ot=n(224),gt=Object(Ot.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(ht.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),loginButton:{textDecoration:"none",color:"#FFF"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:Object(ft.a)({marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},e.breakpoints.down("xs"),{width:"100%"}),menuButton:Object(ft.a)({marginRight:36},e.breakpoints.down("xs"),{display:"none"}),menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:Object(ft.a)({position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},e.breakpoints.down("xs"),{width:e.spacing(7)}),drawerPaperClose:Object(ft.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto","&::-webkit-scrollbar":{width:"0.4em"},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0,0,0,0.00)",webkitBoxShadow:"inset 0 0 6px rgba(0,0,0,0.00)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.3)"}},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},contentWraper:{minHeight:"100%",marginBottom:-30},footer:{height:30},push:{height:30}}})),mt=Object(G.b)({name:"theme",initialState:{darkMode:"false"!==localStorage.getItem("darkMode"),sideBarOpen:"false"!==localStorage.getItem("sideBarOpen")},reducers:{toggleDarkMode:function(e){localStorage.setItem("darkMode",!e.darkMode),e.darkMode=!e.darkMode},toggleSideBar:function(e){localStorage.setItem("sideBarOpen",!e.sideBarOpen),e.sideBarOpen=!e.sideBarOpen}}}),xt=mt.actions,vt=xt.toggleDarkMode,kt=xt.toggleSideBar,yt=function(e){return e.theme.darkMode},wt=function(e){return e.theme.sideBarOpen},Ct=mt.reducer,Nt=function(){return Object(jt.jsxs)(x.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(jt.jsx)(u.b,{style:Y,color:"inherit",to:"/",children:"AlexReactNodeJs"})," ",(new Date).getFullYear(),"."]})},St=n(9),Pt=n(25),_t=n(254),Tt=n(231),Ft=n(138),Et=n(232),Bt=n(122),It=n.n(Bt),Mt=Object(Ot.a)((function(e){return{image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(3,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(2),"&>*":{display:"block",margin:e.spacing(2),"& label.Mui-focused":{fontSize:20,paddingLeft:10,paddingRight:10,color:"black",backgroundColor:"#fff"},"& input":{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #88a4ce inset",WebkitTextFillColor:"black"}}}},submit:{margin:e.spacing(3,0,2)},SubmitButton:{display:"block",margin:"0 auto"},submitButtonWraper:{position:"relative"},submitButtonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),Lt=Object(G.b)({name:"login",initialState:{pending:!1,loginSuccess:!1,error:null},reducers:{pending:function(e){e.pending=!0},success:function(e){e.pending=!1,e.loginSuccess=!0},failure:function(e,t){e.pending=!1,e.loginSuccess=!1,e.error=t.payload},clearError:function(e){e.error=null}}}),Ut=Lt.actions,Rt=Ut.success,Wt=Ut.failure,At=Ut.clearError,Dt=Ut.pending,zt=function(e){return e.login.pending},Ht=function(e){return e.login.error},Yt=Lt.reducer,qt=function(e){return e?void 0:"Email is required"},Gt=function(e){return e?void 0:"field is required"},Jt=function(e){return e.match(/[^@ \t\r\n]+@[^@ \t\r\n]+\.[^@ \t\r\n]+/)?void 0:"Invalid email"},$t=function(e){return e?void 0:"Password is required"},Kt=function(e){return e.length>7?void 0:"Password lenght must be at least 8 characters"},Vt=function(e){for(var t=0,n=0,c=0;c<e.length;c++)isNaN(parseInt(e[c]))?n++:t++;return 0===t?"Password must contain at least 1 number":0===n?"Password must contain at least 1 letter":void 0},Xt=function(e){var t={};return e.password!==e.passwordConfirmation&&(t.passwordConfirmation="Passwords not match"),t},Qt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}},Zt=n(82),en=n(248),tn=n(251),nn=function(e){var t=e.input,n=e.meta,c=Object(Zt.a)(e,["input","meta"]),r=!!c.err&&c.err.errType===t.name;return Object(jt.jsx)(jt.Fragment,{children:Object(jt.jsx)(en.a,{onClick:c.clearError,autoComplete:c.autoComplete,label:c.label,variant:c.variant||"outlined",name:t.name,value:t.value,type:t.type,onChange:t.onChange,error:n.error&&n.touched||r,multiline:c.multiline,autoFocus:c.autoFocus,fullWidth:c.fullWidth,helperText:n.error&&n.touched&&Object(jt.jsx)("span",{children:n.error})||(r?Object(jt.jsx)("span",{children:c.err.message}):void 0)})})},cn=function(e){var t=e.input;return Object(jt.jsx)(tn.a,{name:t.name,onChange:t.onChange})},rn=n(229),an=n(230),on=function(e){var t=Mt();return Object(jt.jsx)("div",{className:t.submitButtonWraper,children:Object(jt.jsxs)(rn.a,{className:t.SubmitButton,disabled:e.progress,type:"submit",variant:"contained",color:"primary",children:[e.buttonText,e.progress&&Object(jt.jsx)(an.a,{size:24,className:t.submitButtonProgress})]})})},sn=function(e){var t=Mt(),n=Object(l.b)(),c=Object(l.c)(zt),r=Object(l.c)(Ht),a=function(){n(At())};return Object(jt.jsxs)("form",{onSubmit:e.handleSubmit,className:t.form,children:[Object(jt.jsx)("div",{children:Object(jt.jsx)(Pt.a,{validate:Qt(qt,Jt),label:"Email",autoComplete:"email",name:"email",component:nn,autoFocus:!0,fullWidth:!0,err:r,clearError:a})}),Object(jt.jsx)("div",{children:Object(jt.jsx)(Pt.a,{validate:$t,label:"Password",type:"password",autoComplete:"current-password",name:"password",component:nn,fullWidth:!0,err:r,clearError:a})}),Object(jt.jsx)("div",{children:Object(jt.jsx)(Tt.a,{label:"Remember me",control:Object(jt.jsx)(Pt.a,{type:"checkBox",name:"rememberMe",component:cn})})}),Object(jt.jsx)(on,{buttonText:"Login",progress:c})]})},ln=function(){var e=Mt(),t=Object(l.b)();if(Object(l.c)(st))return Object(jt.jsx)(St.a,{to:"/"});return Object(jt.jsxs)(Et.a,{container:!0,component:"main",className:e.root,children:[Object(jt.jsx)(p.a,{}),Object(jt.jsx)(Et.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(jt.jsx)(Et.a,{item:!0,xs:12,sm:8,md:5,component:Ft.a,elevation:6,square:!0,children:Object(jt.jsxs)("div",{className:e.paper,children:[Object(jt.jsx)(_t.a,{size:"small",className:e.avatar,children:Object(jt.jsx)(It.a,{})}),Object(jt.jsx)(x.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(jt.jsx)(Pt.b,{onSubmit:function(e){var n,c,r;t((n=e.email,c=e.password,r=e.rememberMe||!1,function(e){e(Dt()),tt.login(n,c,r).then((function(t){e(Rt()),e(lt()),e(Ge()),e(ke())})).catch((function(t){console.log(t.response.data),e(Wt(t.response.data))}))}))},component:sn}),Object(jt.jsxs)(Et.a,{container:!0,children:[Object(jt.jsx)(Et.a,{item:!0,xs:!0,children:Object(jt.jsx)(u.b,{style:q,to:"/forgotpassword",variant:"body2",children:"Forgot password?"})}),Object(jt.jsxs)(Et.a,{item:!0,children:["Don't have an account? ",Object(jt.jsx)(u.b,{style:q,to:"/signup",children:"Sign Up"})]})]})]})})]})},un=n(123),dn=n.n(un),jn=Object(G.b)({name:"signUp",initialState:{pending:!1,signUpSuccess:!1,error:null},reducers:{pending:function(e){e.pending=!0},success:function(e){e.pending=!1,e.signUpSuccess=!0},failure:function(e,t){e.pending=!1,e.signUpSuccess=!1,e.error=t.payload},clearError:function(e){e.error=null}}}),bn=jn.actions,pn=bn.success,fn=bn.failure,hn=bn.clearError,On=bn.pending,gn=function(e){return e.signUp.signUpSuccess},mn=function(e){return e.signUp.pending},xn=function(e){return e.signUp.error},vn=jn.reducer,kn=function(e){var t=Mt(),n=Object(l.c)(mn),c=Object(l.c)(xn),r=Object(l.b)(),a=function(){r(hn())};return Object(jt.jsxs)("form",{onSubmit:e.handleSubmit,className:t.form,children:[Object(jt.jsx)("div",{children:Object(jt.jsx)(Pt.a,{autoFocus:!0,validate:Gt,label:"Name",type:"name",autoComplete:"given-name",name:"name",component:nn,fullWidth:!0})}),Object(jt.jsx)("div",{children:Object(jt.jsx)(Pt.a,{validate:Gt,label:"Surname",autoComplete:"family-name",name:"surname",component:nn,fullWidth:!0})}),Object(jt.jsx)("div",{children:Object(jt.jsx)(Pt.a,{validate:Gt,label:"Alias",autoComplete:"alias",name:"alias",component:nn,fullWidth:!0,err:c,clearError:a})}),Object(jt.jsx)("div",{children:Object(jt.jsx)(Pt.a,{validate:Qt(qt,Jt),label:"Email",autoComplete:"email",name:"email",component:nn,fullWidth:!0,err:c,clearError:a})}),Object(jt.jsx)("div",{children:Object(jt.jsx)(Pt.a,{validate:Qt($t,Kt,Vt),label:"Password",type:"password",autoComplete:"new-password",name:"password",component:nn,fullWidth:!0})}),Object(jt.jsx)("div",{children:Object(jt.jsx)(Pt.a,{validate:$t,autoComplete:"new-password",label:"Confirm password",type:"password",name:"passwordConfirmation",component:nn,fullWidth:!0})}),Object(jt.jsx)(on,{buttonText:"Sign up",progress:n})]})},yn=function(){var e=Object(l.c)(st),t=Mt(),n=Object(l.b)(),r=Object(l.c)(gn);return Object(c.useEffect)((function(){return n(hn())})),r?Object(jt.jsx)(St.a,{to:"/login"}):e?Object(jt.jsx)(St.a,{to:"/"}):Object(jt.jsxs)(Et.a,{container:!0,component:"main",className:t.root,children:[Object(jt.jsx)(p.a,{}),Object(jt.jsx)(Et.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(jt.jsx)(Et.a,{item:!0,xs:12,sm:8,md:5,component:Ft.a,elevation:6,square:!0,children:Object(jt.jsxs)("div",{className:t.paper,children:[Object(jt.jsx)(_t.a,{size:"small",className:t.avatar,children:Object(jt.jsx)(dn.a,{})}),Object(jt.jsx)(x.a,{component:"h1",variant:"h5",children:"Sign Up"}),Object(jt.jsx)(Pt.b,{validate:Xt,onSubmit:function(e){var t,c,r,a,o;n((t=e.name,c=e.surname,r=e.alias,a=e.email,o=e.password,function(e){e(On()),tt.signUp(t,c,r,a,o).then((function(t){e(pn())})).catch((function(t){e(fn(t.response.data))}))}))},component:kn}),Object(jt.jsxs)(h.a,{children:["Have an account? ",Object(jt.jsx)(u.b,{style:q,to:"/login",children:"Log in now"})]})]})})]})},wn=n(11),Cn=n(236),Nn=n(239),Sn=n(237),Pn=n(234),_n=function(e){return"dark"===e.palette.type?"#9eb0ba":"#C7E5FC"},Tn=Object(Ot.a)((function(e){return{topControll:{display:"flex",justifyContent:"space-between",padding:e.spacing(1),marginTop:e.spacing(2)},projectsContainer:{marginTop:e.spacing(2)},projects:{transform:"scale(1)",transition:"all .5s"},menuItem:{marginTop:e.spacing(2)},projectLink:{display:"block",textDecoration:"none",color:"inherit","&:hover":{filter:"brightness(90%)"}},newProject:{transform:"scale(1)",transition:"all .5s"},hide:{width:0,height:0,visibility:"hidden",transform:"scale(0)"},newProjectHeader:{"& h3":Object(ft.a)({textAlign:"center",width:"50%"},e.breakpoints.down("sm"),{width:"100%"}),paddingBottom:0},newProjectInput:{marginTop:e.spacing(1),width:"50%","& label.Mui-focused":{fontSize:16,paddingLeft:20,paddingRight:20,color:"#444040",backgroundColor:_n(e)},"& input":{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #88a4ce inset",WebkitTextFillColor:"#444040"}}},projectMenu:{"& li":{display:"flex",justifyContent:"space-between","& svg":{marginLeft:e.spacing(1)}}},createProjectWrapper:{"& button":{marginTop:10,marginBottom:10,marginLeft:e.spacing(2)}},settingsMenu:{backgroundColor:"light"===e.palette.type?Pn.a[50]:Pn.a[800]},settingsFields:Object(ft.a)({display:"flex",flexWrap:"wrap"},e.breakpoints.down("sm"),{justifyContent:"center"}),settingsField:{minWidth:200,minHeight:100,margin:e.spacing(1),padding:e.spacing(1),"& h4":{textAlign:"center"},"& select":{marginTop:e.spacing(2)}},categorySearchResult:{minWidth:200},editButtonGroup:{marginTop:e.spacing(1),"& :first-child":{marginRight:e.spacing(1)}}}})),Fn=n(77),En=n.n(Fn),Bn=n(52),In=n.n(Bn),Mn=n(126),Ln=n.n(Mn),Un=n(249),Rn=n(235),Wn=function(e,t,n){Object(c.useEffect)((function(){var c=function(c){if(e.current&&!e.current.contains(c.target)){if("function"===typeof t)return t();t.current.contains(c.target)||n()}};return document.addEventListener("mousedown",c),function(){document.removeEventListener("mousedown",c)}}),[e,t,n])},An=["IT","Guide","toDo list","time management","second project","ToDo","DIY","cleaning","cars","test1","test2","test3","test4","tes"],Dn=function(e){var t=e.state,n=e.dispatch,r=Object(c.useState)(null),a=Object(wn.a)(r,2),o=a[0],i=a[1],s=Object(c.useState)(""),l=Object(wn.a)(s,2),u=l[0],d=l[1],j=Object(c.useState)([]),b=Object(wn.a)(j,2),p=b[0],f=b[1],h=Object(c.useState)(null),O=Object(wn.a)(h,2),g=O[0],x=O[1],v=Tn(),k=Object(c.useRef)(null),y=Object(c.useRef)(null);Wn(k,(function(){i(null)})),Object(c.useEffect)((function(){var e=An.filter((function(e){return e.toLowerCase().includes(u)||function(e,t){var n=function(e){return e.split("").map((function(e){return"\\"===e?"":"(?=.*".concat(e,")")})).join("")}(t),c=new RegExp(n,"gi");return e.match(c)}(e,u)}));f(e)}),[u]),Object(c.useEffect)((function(){n({type:"set_category",category:u})}),[u,n]);var w=function(e){var t=e.currentTarget.getAttribute("category");d(t),i(null)};return Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(en.a,{onKeyDown:function(e){if(y.current){var t=y.current.childElementCount;if(t){if(null===g)return x(0);switch(e.key){case"ArrowDown":return x((function(e){return e+1>=t?0:e+1}));case"ArrowUp":return x((function(e){return e<=0?t-1:e-1}));case"Enter":return d(y.current.childNodes[g].getAttribute("category")),void i(null);default:return}}}},value:t.category||u,onChange:function(e){i(e.currentTarget),d(e.target.value)},onClick:function(e){i(o?null:e.currentTarget),x(null)}}),Object(jt.jsx)(Rn.a,{anchorEl:o,open:Boolean(o),placement:"bottom-start",children:Object(jt.jsx)(Ft.a,{ref:k,className:v.categorySearchResult,children:Object(jt.jsx)(m.a,{ref:y,children:p.map((function(e,t){return t>3?null:Object(jt.jsx)(E.a,{selected:g===t,category:e,onClick:w,button:!0,children:Object(jt.jsx)(I.a,{primary:e},t)},t)}))})})})]})},zn=n(125),Hn=n.n(zn),Yn=Object(Ot.a)((function(e){return{backDrop:{top:0,left:0,backgroundColor:"rgba(0,0,0,.5)",position:"absolute",width:"100vw",height:"100vh",zIndex:1300},modalContainer:{padding:e.spacing(2),top:"50%",left:"calc(50% + 36px)",position:"fixed",transform:"translate(-50%,-50%)"},sideBarOpen:{left:"calc(50% + 120px)"},sideBarClose:{left:"calc(50% + 36px)"},confirmDeleteModal:{minWidth:160,"& p":{padding:e.spacing(1)},"& button":{margin:e.spacing(1)}}}})),qn=document.getElementById("modal"),Gn=function(e){var t=e.children,n=e.open,c=e.onClose,r=Object(l.c)(wt),a=Yn();return n?o.a.createPortal(Object(jt.jsx)("div",{onMouseDown:function(e){e.target.className.includes("backDrop")&&c()},className:a.backDrop,children:Object(jt.jsx)(Ft.a,{className:Object(b.a)(a.modalContainer,r?a.sideBarOpen:a.sideBarClose),children:t})}),qn):null},Jn=n(95),$n=function(e,t){var n=Object(c.useState)(e),r=Object(wn.a)(n,2),a=r[0],o=r[1];return Object(c.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),a},Kn=function(e){var t=e.state,n=e.dispatch,r=Object(c.useState)(t.color),a=Object(wn.a)(r,2),o=a[0],i=a[1],s=$n(o,200);Object(c.useEffect)((function(){n({type:"set_color",color:s})}),[s,n]);var l=function(e){i(e)};return Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)("div",{style:{width:200,height:100,backgroundColor:o}}),Object(jt.jsx)(Jn.a,{style:{width:200},color:o,onChange:l}),Object(jt.jsx)(Jn.b,{color:o,onChange:l}),Object(jt.jsx)(rn.a,{style:{marginTop:"10px"},variant:"outlined",onClick:function(){return i("")},children:"Set to default"})]})},Vn=function(e){return 0===e.indexOf("#")&&(e=e.slice(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length?"":.299*parseInt(e.slice(0,2),16)+.587*parseInt(e.slice(2,4),16)+.114*parseInt(e.slice(4,6),16)>186?"#000000":"#FFFFFF"},Xn=Object(Ot.a)((function(e){return{colorPreview:{minHeight:50,"& button":{display:"block",margin:"0 auto"}},settingsMenu:{backgroundColor:"light"===e.palette.type?Pn.a[50]:Pn.a[800]},settingsFields:Object(ft.a)({display:"flex",flexWrap:"wrap"},e.breakpoints.down("sm"),{justifyContent:"center"}),settingsField:{minWidth:200,minHeight:100,margin:e.spacing(1),padding:e.spacing(1),"& h4":{textAlign:"center"},"& select":{marginTop:e.spacing(2)}}}})),Qn=function(e){var t=e.state,n=e.dispatch,r=Object(c.useState)(!1),a=Object(wn.a)(r,2),o=a[0],i=a[1],s=Xn();return Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(x.a,{variant:"subtitle1",component:"h4",children:"Background color:"}),Object(jt.jsxs)("div",{className:s.colorPreview,style:{backgroundColor:t.color},children:[Object(jt.jsx)(k.a,{style:{color:Vn(t.color)},onClick:function(){return i(!0)},children:Object(jt.jsx)(Hn.a,{})}),Object(jt.jsx)(Gn,{style:{marginLeft:"64px"},open:o,onClose:function(){return i(!1)},children:Object(jt.jsx)(Kn,{state:t,dispatch:n})})]})]})},Zn=function(e){var t=e.children,n=Xn();return Object(jt.jsx)(Cn.a,{children:Object(jt.jsxs)(Sn.a,{className:n.settingsMenu,children:[Object(jt.jsx)(x.a,{align:"right",variant:"h6",component:"h3",children:"Settings"}),Object(jt.jsx)(v.a,{}),Object(jt.jsx)("div",{className:n.settingsFields,children:t.length?t.map((function(e,t){return Object(jt.jsx)(Ft.a,{className:n.settingsField,children:e},t)})):Object(jt.jsx)(Ft.a,{className:n.settingsField,children:t})})]})})},ec=function(e){var t=e.state,n=e.dispatch;return Object(jt.jsxs)(Zn,{children:[Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(x.a,{variant:"subtitle1",component:"h4",children:"Who can see my project?"}),Object(jt.jsxs)(Un.a,{native:!0,value:t.privacySettings,onChange:function(e){n({type:"set_privacy_settings",privacySettings:e.target.value})},children:[Object(jt.jsx)("option",{value:"public",children:"Public"}),Object(jt.jsx)("option",{value:"publicReg",children:"Public-registered"}),Object(jt.jsx)("option",{value:"private",children:"Private"}),Object(jt.jsx)("option",{disabled:!0,children:"Certain people"})]})]}),Object(jt.jsx)(Qn,{state:t,dispatch:n}),Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(x.a,{variant:"subtitle1",component:"h4",children:"Category:"}),Object(jt.jsx)(Dn,{state:t,dispatch:n})]})]})},tc={color:"",projectName:"",privacySettings:"public",category:null,error:null},nc=function(e,t){switch(t.type){case"set_color":return Object(ht.a)(Object(ht.a)({},e),{},{color:t.color});case"set_project_name":return Object(ht.a)(Object(ht.a)({},e),{},{projectName:t.projectName});case"clear_project_name":return Object(ht.a)(Object(ht.a)({},e),{},{projectName:""});case"set_privacy_settings":return Object(ht.a)(Object(ht.a)({},e),{},{privacySettings:t.privacySettings});case"set_category":return Object(ht.a)(Object(ht.a)({},e),{},{category:t.category});case"set_error":return Object(ht.a)(Object(ht.a)({},e),{},{error:t.error});case"clear_error":return Object(ht.a)(Object(ht.a)({},e),{},{error:null});case"set_to_default":return tc;default:return e}},cc=function(e){var t=Tn(),n=Object(l.b)(),r=Object(l.c)(Ve),a=Object(c.useState)(!1),o=Object(wn.a)(a,2),i=o[0],s=o[1],u=Object(c.useReducer)(nc,tc),d=Object(wn.a)(u,2),j=d[0],b=d[1],p=Object(l.c)(Qe);Object(c.useEffect)((function(){p&&(e.setNewProjectMenuOpen(!1),n(ze()),b({type:"clear_project_name"}))}));return Object(jt.jsxs)(Cn.a,{children:[Object(jt.jsx)(Nn.a,{className:t.newProjectHeader,action:Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(k.a,{onClick:function(){s((function(e){return!e}))},children:i?Object(jt.jsx)(In.a,{}):Object(jt.jsx)(En.a,{})}),Object(jt.jsx)(k.a,{children:Object(jt.jsx)(Ln.a,{})})]}),title:"What is final result you want to achive?",titleTypographyProps:{variant:"h6",component:"h3"}}),Object(jt.jsxs)(Sn.a,{children:[i?Object(jt.jsx)(ec,{state:j,dispatch:b}):null,Object(jt.jsxs)("div",{className:t.createProjectWrapper,children:[Object(jt.jsx)(en.a,{onFocus:function(e){return e.target.select()},onChange:function(e){b({type:"clear_error"}),b({type:"set_project_name",projectName:e.target.value})},value:j.projectName,error:Boolean(j.error),helperText:j.error,size:"small",className:t.newProjectInput,label:"New Project",variant:"outlined",placeholder:"type new project name"}),Object(jt.jsx)(rn.a,{disabled:r.create,variant:"contained",color:"primary",onClick:function(){if(!j.projectName)return b({type:"set_error",error:"Field is required"});var e;n((e=j,function(t){t(Re({action:K})),_e.newProject(e).then((function(e){t(Ie(e.project)),t(xe()),t(Ae({action:K}))})).catch((function(e){console.log(e),t(Le(e.response.data))}))})),b({type:"set_to_default"})},children:"Create"})]})]})]})},rc=n(136),ac=n(240),oc=n(80),ic=n.n(oc),sc=n(79),lc=n.n(sc),uc=n(78),dc=n.n(uc),jc=function(e){var t=e.onConfirm,n=e.onClose,c=Yn();return Object(jt.jsxs)("div",{className:c.confirmDeleteModal,children:[Object(jt.jsx)("div",{children:Object(jt.jsx)(x.a,{align:"center",children:"Are you sure?"})}),Object(jt.jsxs)("div",{children:[Object(jt.jsx)(rn.a,{variant:"contained",color:"primary",onClick:t,children:"yes"}),Object(jt.jsx)(rn.a,{variant:"contained",color:"secondary",onClick:n,children:"no"})]})]})},bc={},pc=function(e,t){switch(t.type){case"set_color":return Object(ht.a)(Object(ht.a)({},e),{},{color:t.color});case"set_project_name":return Object(ht.a)(Object(ht.a)({},e),{},{projectName:t.projectName});case"clear_project_name":return Object(ht.a)(Object(ht.a)({},e),{},{projectName:""});case"set_privacy_settings":return Object(ht.a)(Object(ht.a)({},e),{},{privacySettings:t.privacySettings});case"set_category":return Object(ht.a)(Object(ht.a)({},e),{},{category:t.category});case"set_error":return Object(ht.a)(Object(ht.a)({},e),{},{error:t.error});case"clear_error":return Object(ht.a)(Object(ht.a)({},e),{},{error:null});case"set_to_default":return bc;default:return e}},fc=function(e){var t=e.project;bc=Object(ht.a)({},t);var n=Object(l.b)(),r=Object(c.useReducer)(pc,bc),a=Object(wn.a)(r,2),o=a[0],i=a[1],s=Tn(),u=function(e){n(qe(e.currentTarget.id))};return Object(jt.jsx)(jt.Fragment,{children:Object(jt.jsxs)(Cn.a,{children:[Object(jt.jsx)(Nn.a,{title:Object(jt.jsx)(en.a,{onFocus:function(e){return e.target.select()},className:s.newProjectInput,error:Boolean(o.error),helperText:o.error,label:"Project",multiline:!0,onChange:function(e){i({type:"clear_error"}),i({type:"set_project_name",projectName:e.target.value})},value:o.projectName}),action:Object(jt.jsx)(jt.Fragment,{children:Object(jt.jsx)(k.a,{id:t._id,onClick:u,children:Object(jt.jsx)(In.a,{})})})}),Object(jt.jsx)(Sn.a,{children:Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(ec,{state:o,dispatch:i}),Object(jt.jsxs)(h.a,{className:s.editButtonGroup,children:[Object(jt.jsx)(rn.a,{variant:"contained",color:"primary",id:t._id,onClick:function(e){if(!o.projectName)return i({type:"set_error",error:"Field is required"});n(function(e){return function(t){t(Re({action:ee,id:e._id})),_e.editProject(e).then((function(n){n.data.project&&(t(Me(n.data.project)),t(Ae({action:ee,id:e._id})),t(qe(e._id)))}))}}(o))},children:"Save"}),Object(jt.jsx)(rn.a,{variant:"contained",color:"secondary",id:t._id,onClick:u,children:"Cancel"})]})]})})]})})},hc=function(e){var t=e.project,n=Tn(),r=Object(l.b)(),a=Object(c.useState)(!1),o=Object(wn.a)(a,2),i=o[0],s=o[1],d=Object(c.useState)(null),j=Object(wn.a)(d,2),b=j[0],p=j[1],f=Object(c.useState)(null),h=Object(wn.a)(f,2),O=h[0],g=h[1],m=Object(l.c)(Ze),x=Object(l.c)(Ve),v=Object(St.g)(),y=function(){p(null)},w=function(){return s(!1)};return Object(jt.jsxs)(jt.Fragment,{children:[m.some((function(e){return e===t._id}))?Object(jt.jsx)(fc,{project:t}):Object(jt.jsx)(Cn.a,{className:n.menuItem,children:Object(jt.jsx)(Nn.a,{title:v.location.pathname!=="/projects/".concat(t._id)?Object(jt.jsx)(u.b,{style:{backgroundColor:t.color,color:t.color?Vn(t.color):""},className:n.projectLink,to:"/projects/".concat(t._id),children:t.projectName}):Object(jt.jsx)("div",{className:n.projectHeader,style:{backgroundColor:t.color,color:t.color?Vn(t.color):""},children:t.projectName}),subheader:new Date(t.editDate).toUTCString(),action:Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(k.a,{onClick:function(e){p(e.currentTarget)},children:Object(jt.jsx)(dc.a,{})}),Object(jt.jsxs)(rc.a,{className:n.projectMenu,anchorEl:b,keepMounted:!0,open:Boolean(b),onClose:y,getContentAnchorEl:null,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"center"},children:[Object(jt.jsxs)(ac.a,{onClick:function(e){r(Ye(e.currentTarget.id)),y()},id:t._id,children:["Edit ",Object(jt.jsx)(lc.a,{})]}),Object(jt.jsxs)(ac.a,{disabled:x.delete.some((function(e){return e===t._id})),id:t._id,onClick:function(e){g(e.currentTarget.id),s(!0),y()},children:["Delete ",Object(jt.jsx)(ic.a,{})]})]})]})})}),Object(jt.jsx)(Gn,{open:i,onClose:w,children:Object(jt.jsx)(jc,{onConfirm:function(){var e;r((e=O,function(t){t(Re({action:Z,id:e})),_e.deleteProject(e).then((function(n){t(He(e)),t(ve()),t(Ae({action:Z,id:e}))}))})),w(),v.replace("/projects")},onClose:w})})]})},Oc=n(241),gc=function(){var e=Tn();return Object(jt.jsx)(Cn.a,{className:e.menuItem,children:Object(jt.jsx)(Nn.a,{title:Object(jt.jsxs)(x.a,{children:["Loading...",Object(jt.jsx)(Oc.a,{})]}),subheader:Object(jt.jsx)(x.a,{children:Object(jt.jsx)(Oc.a,{})})})})},mc=n(139),xc=n(21),vc=n(84),kc=Object(Ot.a)((function(e){return{topControll:{display:"flex",justifyContent:"space-between",padding:e.spacing(1),marginTop:e.spacing(2)},search:Object(ft.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(xc.b)(e.palette.info.main,.15),"&:hover":{backgroundColor:Object(xc.b)(e.palette.info.main,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("xs"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},searchMenu:{right:0,position:"absolute",zIndex:1},inputInput:Object(ft.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}}),newProjectButton:Object(ft.a)({minWidth:96},e.breakpoints.down("sm"),{fontSize:10,padding:"6px 10px"}),success:{backgroundColor:vc.a[500],"&:hover":{backgroundColor:vc.a[700]}},itemsList:{padding:0,margin:0,listStyle:"none"}}})),yc=n(127),wc=n.n(yc),Cc={search:function(e,t){return ie.get("search/?where=".concat(e,"&text=").concat(t))}},Nc={searchResult:null},Sc=Object(G.b)({name:"search",initialState:Nc,reducers:{setSearchResult:function(e,t){e.searchResult=t.payload},reset:function(){return Nc}}}),Pc=Sc.actions,_c=Pc.setSearchResult,Tc=Pc.reset,Fc=function(e){return e.search.searchResult},Ec=Sc.reducer;var Bc=function(e){var t=e.searchRes,n=Object(c.useState)(null),r=Object(wn.a)(n,2),a=r[0],o=r[1],i=function(e){var t=e.currentTarget.getAttribute("projectid"),n=e.currentTarget.getAttribute("taskid");o({pathname:"/projects/".concat(t),state:{taskId:n}})};return a?Object(jt.jsx)(St.a,{to:a}):Object(jt.jsxs)("div",{style:{width:"100%"},children:[t&&t.projects&&t.projects.length?Object(jt.jsx)("p",{children:"Projects:"}):null,t&&t.projects&&t.projects.map((function(e){return Object(jt.jsx)(ac.a,{projectid:e._id,onClick:i,children:e.projectName},e._id)})),t&&t.tasks&&t.tasks.length?Object(jt.jsx)("p",{children:"Tasks:"}):null,t&&t.tasks&&t.tasks.map((function(e){return Object(jt.jsx)(ac.a,{projectid:e.project,taskid:e._id,onClick:i,children:Object(jt.jsxs)("div",{children:[Object(jt.jsx)(x.a,{variant:"h6",component:"h3",children:e.projectName}),e.taskName]})},e._id)}))]})},Ic=function(e){var t=e.open,n=e.toggleOpen,r=e.context,a=e.createNewText,o=void 0===a?"new":a,i=e.listText,s=kc(),u=Object(l.b)(),d=Object(c.useState)(""),j=Object(wn.a)(d,2),b=j[0],p=j[1],f=Object(c.useState)(!1),h=Object(wn.a)(f,2),O=h[0],g=h[1],m=$n(b,300),x=Object(c.useRef)(null),v=Object(c.useRef)(null);Wn(x,v,(function(){g(!1)})),Object(c.useEffect)((function(){return u(Tc())}),[u]);var k=Object(l.c)(Fc);Object(c.useEffect)((function(){m&&u(function(e,t){return function(n){Cc.search(e,t).then((function(e){n(_c(e.data))}))}}(r,m))}),[m,r,u]);return Object(jt.jsx)(jt.Fragment,{children:Object(jt.jsxs)(Ft.a,{className:s.topControll,children:[Object(jt.jsx)(rn.a,{color:"primary",onClick:n,variant:"contained",className:"".concat(s.newProjectButton," ").concat(t?s.success:""),children:"".concat(t?i:o)}),Object(jt.jsx)("div",{className:s.search,children:Object(jt.jsxs)("div",{children:[Object(jt.jsx)("div",{className:s.searchIcon,children:Object(jt.jsx)(wc.a,{})}),Object(jt.jsxs)("div",{children:[Object(jt.jsx)(mc.a,{ref:v,disabled:t,value:b,onChange:function(e){""===e.currentTarget.value&&u(Tc()),p(e.currentTarget.value)},onClick:function(e){t||g(!0)},placeholder:"Search\u2026",classes:{root:s.inputRoot,input:s.inputInput},inputProps:{"aria-label":"search"}}),O&&Object(jt.jsx)(Ft.a,{ref:x,className:s.searchMenu,children:Object(jt.jsx)(Bc,{searchRes:k})})]})]})})]})})},Mc=function(){var e=Tn(),t=dt(),n=Object(c.useState)(!1),r=Object(wn.a)(n,2),a=r[0],o=r[1],i=Object(l.b)(),s=Object(l.c)(Ve),u=Object(l.c)(Je),d=Object(l.c)(Xe);Object(c.useEffect)((function(){var e,t,n;0!==u.length||s.projectsLoading||d||i((function(c){c(Re({action:ne})),_e.getProjects(e,t,n).then((function(e){c(De()),204!==e.status?(c(Be(e.data.projects)),c(Ae({action:ne}))):c(Ae({action:ne}))}))}))}),[i,s.projectsLoading,u.length,d]);return t?Object(jt.jsx)(St.a,{to:"/login"}):Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(x.a,{align:"center",variant:"h4",component:"h1",children:"Projects"}),Object(jt.jsx)(Ic,{context:"projects",open:a,toggleOpen:function(){o((function(e){return!e}))},createNewText:"New Project",listText:"Projects"}),Object(jt.jsxs)("div",{className:e.projectsContainer,children:[Object(jt.jsx)("div",{className:"".concat(e.projects," ").concat(a?e.hide:""),children:s.projectsLoading?Object(jt.jsx)(gc,{}):u.length?u.map((function(e,t){return Object(jt.jsx)(hc,{project:e},t)})):Object(jt.jsx)("h1",{children:"Create your first project"})}),Object(jt.jsx)("div",{className:"".concat(e.newProject," ").concat(a?"":e.hide),children:Object(jt.jsx)(cc,{setNewProjectMenuOpen:o})})]})]})},Lc=function(){var e=Object(l.b)(),t=Object(l.c)(we),n=Object(l.c)(Ce);return Object(c.useEffect)((function(){n.length||t.usersFetching||e((function(e){e(be({action:X})),le.getUsers().then((function(t){console.log(t.profiles),e(me(t.totalCount)),e(ge(t.profiles)),e(pe({action:X}))}))}))}),[n.length,t.usersFetching,e]),Object(jt.jsx)(jt.Fragment,{children:n.map((function(e){return Object(jt.jsxs)(Cn.a,{children:[Object(jt.jsx)(u.b,{style:Y,to:"users/".concat(e._id),children:Object(jt.jsx)("h1",{children:e.alias})}),Object(jt.jsxs)("h2",{children:["Projects count: ",e.projectsCount]})]},e._id)}))})},Uc=function(){return Object(jt.jsx)("h1",{children:"ROOT"})},Rc=function(){return Object(jt.jsx)("h1",{children:"Loading..."})},Wc=function(){var e=Object(l.b)(),t=dt(),n=Object(l.c)(ye),r=Object(l.c)(we);return Object(c.useEffect)((function(){n||r.myProfileFetching||e((function(e){e(be({action:V})),le.getMyProfile().then((function(t){console.log(t),e(fe(t)),e(pe({action:V}))})).catch((function(e){console.log(e.response.data)}))}))}),[n,e,r.myProfileFetching]),t?Object(jt.jsx)(St.a,{to:"/login"}):r.myProfileFetch?Object(jt.jsx)(Rc,{}):n?Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)("h1",{children:n.alias}),Object(jt.jsxs)("h2",{children:[n.name," ",n.surname]}),Object(jt.jsx)("h2",{children:n.email}),Object(jt.jsxs)("h3",{children:["Projects count: ",n.projectsCount,"/",n.projectsLimit," "]})]}):Object(jt.jsx)(jt.Fragment,{})},Ac={newTask:function(e,t){return ie.post("projects/".concat(e,"/tasks"),t).then((function(e){return e.data}))},getTasks:function(e,t){var n="tasks?skip=".concat(t||0);return ie.get("projects/".concat(e,"/").concat(n))},updateTasksOrder:function(e,t){return ie.put("projects/".concat(e,"/tasks/updateOrder"),t)},editTask:function(e,t,n){return ie.put("projects/".concat(e,"/tasks/").concat(t),n)},changeCompleteStatus:function(e,t,n){return ie.put("projects/".concat(e,"/tasks/").concat(t,"/status"),n)},deleteTask:function(e,t){return ie.delete("projects/".concat(e,"/tasks/").concat(t))}},Dc={tasks:[],pending:{create:!1,tasksLoading:!1,delete:[],edit:[],completeStatus:[],orderChange:!1},taskPage:{currentPage:1,totalPagesCount:0},isFetched:!1,editMode:[],error:null},zc=Object(G.b)({name:"task",initialState:Dc,reducers:{pending:function(e,t){[Z,ee,te].some((function(e){return e===t.payload.action}))?e.pending[t.payload.action]=[].concat(Object(J.a)(e.pending[t.payload.action]),[t.payload.id]):e.pending[t.payload.action]=!0},stopPending:function(e,t){[Z,ee,te].some((function(e){return e===t.payload.action}))?e.pending[t.payload.action]=Object(J.a)(e.pending[t.payload.action].filter((function(e){return e!==t.payload.id}))):e.pending[t.payload.action]=!1},firstLoadComplete:function(e){e.isFetched=!0},updateTasksOrder:function(e,t){e.tasks=t.payload},setTasks:function(e,t){e.tasks=[].concat(Object(J.a)(e.tasks),Object(J.a)(t.payload))},turnEditModeOn:function(e,t){e.editMode=[].concat(Object(J.a)(e.editMode),[t.payload])},turnEditModeOff:function(e,t){e.editMode=Object(J.a)(e.editMode.filter((function(e){return e!==t.payload})))},addTaskToBegining:function(e,t){e.tasks=[t.payload].concat(Object(J.a)(e.tasks))},updateTask:function(e,t){var n=!1;e.tasks=e.tasks.map((function(e){return n||e._id!==t.payload._id?e:(n=!0,t.payload)}))},updateTaskCompleteStatus:function(e,t){var n=!1;e.tasks=e.tasks.map((function(e){return n||e._id!==t.payload._id?e:(n=!0,Object(ht.a)(Object(ht.a)({},e),{},{finished:!e.finished}))}))},setPagesCount:function(e,t){e.taskPage.totalPagesCount=t.payload},incrementPage:function(e){e.taskPage.currentPage++},deleteTask:function(e,t){e.tasks=e.tasks.filter((function(e){return e._id!==t.payload}))},reset:function(){return Dc}}}),Hc=zc.actions,Yc=Hc.pending,qc=Hc.stopPending,Gc=Hc.setTasks,Jc=Hc.addTaskToBegining,$c=Hc.turnEditModeOn,Kc=Hc.turnEditModeOff,Vc=Hc.deleteTask,Xc=Hc.updateTask,Qc=Hc.updateTaskCompleteStatus,Zc=Hc.updateTasksOrder,er=Hc.reset,tr=Hc.firstLoadComplete,nr=Hc.setPagesCount,cr=Hc.incrementPage,rr=function(e){return e.task.pending},ar=function(e){return e.task.tasks},or=function(e){return e.task.isFetched},ir=function(e){return e.task.editMode},sr=function(e){return e.task.taskPage},lr=function(e,t){return function(n){n(Yc({action:ce})),Ac.getTasks(e,t).then((function(e){n(tr()),e.data.tasks?(n(Gc(e.data.tasks)),n(cr()),n(qc({action:ce})),n(nr(Math.ceil(e.data.tasksCount/20)))):n(qc({action:ce}))}))}},ur=zc.reducer,dr=function(e){var t=e.state,n=e.dispatch;return Object(jt.jsx)(Zn,{children:Object(jt.jsx)(Qn,{state:t,dispatch:n})})},jr=Object(Ot.a)((function(e){return{wrapper:{position:"relative"},newTaskInput:{margin:"auto 0","& label.Mui-focused":{fontSize:16,paddingLeft:20,paddingRight:20,color:"#444040",backgroundColor:_n(e)},"& input":{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #88a4ce inset",WebkitTextFillColor:"#444040"}}},newTaskMenu:{width:"100%",marginTop:e.spacing(2),padding:e.spacing(2),opacity:1,transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.standard}),"& .MuiGrid-container":{flexWrap:"nowrap"}},hide:{position:"absolute",opacity:0,width:0,height:0,transform:"scale(0)",transition:e.transitions.create("all",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.standard})},inputWrapper:Object(ft.a)({display:"flex",flexGrow:1},e.breakpoints.down("xs"),{display:"block","& input":{width:"100%"}}),buttonWrapper:Object(ft.a)({padding:e.spacing(1)},e.breakpoints.down("xs"),{paddingLeft:0}),settings:{marginTop:e.spacing(2)},taskContainer:{marginTop:e.spacing(2)},confirmDeleteModal:{minWidth:160,"& p":{padding:e.spacing(1)},"& button":{margin:e.spacing(1)}},taskHeader:{display:"flex",alignItems:"center","& .MuiAvatar-root":{marginRight:e.spacing(1)}},taskMenu:{"& li":{display:"flex",justifyContent:"space-between","& svg":{marginLeft:e.spacing(1)}}},editButtonGroup:{marginTop:e.spacing(1),"& :first-child":{marginRight:e.spacing(1)}},taskWrapper:{position:"relative"},taskAnchor:{position:"absolute",top:-64},tasksList:{margin:0,padding:0,listStyle:"none"},draggable:{},spacer:{}}})),br={color:"",taskName:"",error:null},pr=function(e,t){switch(t.type){case"set_color":return Object(ht.a)(Object(ht.a)({},e),{},{color:t.color});case"set_task_name":return Object(ht.a)(Object(ht.a)({},e),{},{taskName:t.taskName});case"clear_task_name":return Object(ht.a)(Object(ht.a)({},e),{},{taskName:""});case"set_error":return Object(ht.a)(Object(ht.a)({},e),{},{error:t.error});case"clear_error":return Object(ht.a)(Object(ht.a)({},e),{},{error:null});case"set_to_default":return br;default:return e}},fr=function(e){var t=e.projectId,n=e.open,r=jr(),a=Object(c.useReducer)(pr,br),o=Object(wn.a)(a,2),i=o[0],s=o[1],u=Object(c.useState)(!1),d=Object(wn.a)(u,2),j=d[0],b=d[1],p=Object(l.b)();return Object(jt.jsx)("div",{className:r.wrapper,children:Object(jt.jsxs)(Ft.a,{className:"".concat(n?r.newTaskMenu:r.hide),children:[Object(jt.jsxs)(Et.a,{container:!0,children:[Object(jt.jsxs)("div",{className:r.inputWrapper,children:[Object(jt.jsx)(en.a,{onFocus:function(e){return e.target.select()},className:r.newTaskInput,onChange:function(e){s({type:"clear_error"}),s({type:"set_task_name",taskName:e.target.value})},value:i.taskName,size:"small",error:Boolean(i.error),helperText:i.error,variant:"outlined",label:"Task",placeholder:"type new task"}),Object(jt.jsx)("div",{className:r.buttonWrapper,children:Object(jt.jsx)(rn.a,{onClick:function(){if(!i.taskName)return s({type:"set_error",error:"Field is required"});p(function(e,t){return function(n){n(Yc({action:K})),Ac.newTask(e,t).then((function(e){n(Jc(e.task)),n(qc({action:K}))}))}}(t,i)),s({type:"set_to_default"})},variant:"contained",children:"Create"})})]}),Object(jt.jsx)("div",{children:Object(jt.jsx)(k.a,{onClick:function(){b((function(e){return!e}))},children:j?Object(jt.jsx)(In.a,{}):Object(jt.jsx)(En.a,{})})})]}),Object(jt.jsx)("div",{className:r.settings,children:j?Object(jt.jsx)(dr,{state:i,dispatch:s}):null})]})})},hr=n(128),Or=n.n(hr),gr=n(96),mr=n.n(gr),xr={},vr=function(e,t){switch(t.type){case"set_color":return Object(ht.a)(Object(ht.a)({},e),{},{color:t.color});case"set_task_name":return Object(ht.a)(Object(ht.a)({},e),{},{taskName:t.taskName});case"clear_task_name":return Object(ht.a)(Object(ht.a)({},e),{},{taskName:""});case"set_error":return Object(ht.a)(Object(ht.a)({},e),{},{error:t.error});case"clear_error":return Object(ht.a)(Object(ht.a)({},e),{},{error:null});case"set_to_default":return xr;default:return e}},kr=function(e){var t=e.projectId,n=e.task;xr=Object(ht.a)({},n);var r=Object(l.b)(),a=Object(c.useReducer)(vr,xr),o=Object(wn.a)(a,2),i=o[0],s=o[1],u=jr(),d=function(e){r(Kc(e.currentTarget.id))};return Object(jt.jsx)(jt.Fragment,{children:Object(jt.jsxs)(Cn.a,{className:u.taskContainer,children:[Object(jt.jsx)(Nn.a,{title:Object(jt.jsx)(en.a,{onFocus:function(e){return e.target.select()},className:u.newTaskInput,error:Boolean(i.error),helperText:i.error,label:"Task",multiline:!0,onChange:function(e){s({type:"clear_error"}),s({type:"set_task_name",taskName:e.target.value})},value:i.taskName}),action:Object(jt.jsx)(k.a,{id:n._id,onClick:d,children:Object(jt.jsx)(In.a,{})})}),Object(jt.jsx)(Sn.a,{children:Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(Zn,{children:Object(jt.jsx)(Qn,{state:i,dispatch:s})}),Object(jt.jsxs)(h.a,{className:u.editButtonGroup,children:[Object(jt.jsx)(rn.a,{id:n._id,onClick:function(e){if(!i.taskName)return s({type:"set_error",error:"Field is required"});r(function(e,t,n){return function(c){c(Yc({action:ee,id:t})),Ac.editTask(e,t,n).then((function(e){e.data.task&&(c(Xc(e.data.task)),c(qc({action:ee,id:t})),c(Kc(t)))}))}}(t,n._id,i))},variant:"contained",color:"primary",children:"save"}),Object(jt.jsx)(rn.a,{id:n._id,onClick:d,variant:"contained",color:"secondary",children:"cancel"})]})]})})]})})},yr=n(6),wr=n(242),Cr=n(83),Nr=Object(yr.a)({root:{"&$checked":{color:wr.a.A200}},checked:{}})((function(e){return Object(jt.jsx)(tn.a,Object(ht.a)({color:"default"},e))})),Sr=Object(yr.a)({root:{backgroundColor:Cr.a[200]}})((function(e){return Object(jt.jsx)(_t.a,Object(ht.a)({color:"default"},e))})),Pr=function(e){var t=e.projectId,n=e.item,r=Object(St.g)(),a=Object(c.useRef)(null),o=Object(c.useState)(null),i=Object(wn.a)(o,2),s=i[0],u=i[1],d=Object(c.useState)(!1),j=Object(wn.a)(d,2),b=j[0],p=j[1],f=Object(c.useState)(null),h=Object(wn.a)(f,2),O=h[0],g=h[1],m=Object(l.c)(ir),v=Object(l.c)(rr),y=jr(),w=Object(l.b)(),C=n.color?Vn(n.color):"";Object(c.useEffect)((function(){a&&a.current&&a.current.scrollIntoView({behavior:"smooth"})}),[r.location.state,a]);var N=function(){u(null)},S=function(){return p(!1)},P=function(){w(function(e,t,n){return function(c){c(Yc({action:te,id:t}));var r=new Date;Ac.changeCompleteStatus(e,t,{status:n}).then((function(e){c(Qc({_id:t}));var n=new Date,a=setTimeout((function(){c(qc({action:te,id:t}))}),2e3);n-r>2e3&&(c(qc({action:te,id:t})),clearTimeout(a))}))}}(t,n._id,!n.finished))};return Object(jt.jsxs)("div",{className:y.taskWrapper,children:[m.some((function(e){return e===n._id}))?Object(jt.jsx)(kr,{projectId:t,task:n}):Object(jt.jsxs)(Cn.a,{className:y.taskContainer,children:[Object(jt.jsx)(Nn.a,{id:n._id,style:{backgroundColor:n.color,color:C},title:Object(jt.jsxs)("div",{className:y.taskHeader,children:[Object(jt.jsx)(Sr,{children:Object(jt.jsx)(Nr,{disabled:v.completeStatus.some((function(e){return e===n._id})),id:n._id,onChange:P,checked:n.finished,checkedIcon:Object(jt.jsx)(mr.a,{})})}),Object(jt.jsx)(x.a,{children:n.taskName})]}),action:Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(k.a,{onClick:function(e){u(e.currentTarget)},children:Object(jt.jsx)(dc.a,{style:{color:C}})}),Object(jt.jsxs)(rc.a,{className:y.taskMenu,anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:N,getContentAnchorEl:null,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"center"},children:[Object(jt.jsxs)(ac.a,{onClick:function(){w($c(n._id)),N()},children:["Edit ",Object(jt.jsx)(lc.a,{})]}),Object(jt.jsxs)(ac.a,{disabled:v.delete.some((function(e){return e===n._id})),id:n._id,onClick:function(e){g(n._id),p(!0),N()},children:["Delete ",Object(jt.jsx)(ic.a,{})]}),Object(jt.jsxs)(ac.a,{disabled:v.completeStatus.some((function(e){return e===n._id})),onClick:function(){P(),N()},children:[n.finished?Object(jt.jsxs)(jt.Fragment,{children:["Uncomplete ",Object(jt.jsx)(Or.a,{})," "]}):Object(jt.jsxs)(jt.Fragment,{children:["Complete ",Object(jt.jsx)(mr.a,{})]})," "]})]})]})}),Object(jt.jsx)("div",{className:y.taskAnchor,ref:r.location.state&&r.location.state.taskId===n._id?a:null})]}),Object(jt.jsx)(Gn,{open:b,onClose:S,children:Object(jt.jsx)(jc,{onConfirm:function(){w(function(e,t){return function(n){n(Yc({action:Z,id:t})),Ac.deleteTask(e,t).then((function(e){n(Vc(t)),n(qc({action:Z,id:t}))}))}}(t,O)),S()},onClose:S})})]})},_r=n(129),Tr=n(97),Fr=function(e){var t=e.listItems,n=e.isFetching,r=e.itemComponent,a=e.onChange,o=e.animationDuration,i=e.animationEasing,s=Object(Zt.a)(e,["listItems","isFetching","itemComponent","onChange","animationDuration","animationEasing"]),l=Object(c.useState)(t),u=Object(wn.a)(l,2),d=u[0],j=u[1],b=kc(),p=Object(c.useState)(),f=Object(wn.a)(p,2),h=f[0],O=f[1],g=Object(c.useState)(),m=Object(wn.a)(g,2),x=m[0],v=m[1],k=Object(c.useRef)(),y=Object(c.useRef)(),w=Object(c.useRef)(),C=Object(c.useRef)(),N=Object(c.useRef)(),S=Object(c.useRef)(),P=Object(c.useRef)();Object(c.useEffect)((function(){j(t)}),[t,w]),d!==C.current&&(C.current=d,w.current=d.map((function(e,t){return t}))),Object(c.useEffect)((function(){var e=function(){};return window.addEventListener("touchmove",e),function(){window.removeEventListener("touchmove",e)}}),[]);var _=Object(c.useCallback)((function(e,t,c){if(!n&&!h&&1!==d.length){var r=W(k.current,e);if(r){var a=Object(wn.a)(r,2),o=a[0],i=a[1];O({touch:c,initialPosition:i,itemHeights:Array.prototype.map.call(k.current.childNodes,(function(e){return e.getBoundingClientRect().height})),itemSpacing:k.current.childNodes[1].getBoundingClientRect().top-k.current.childNodes[0].getBoundingClientRect().bottom,itemTopOffset:o.getBoundingClientRect().top-k.current.childNodes[0].getBoundingClientRect().top,dragStartY:t}),N.current={previous:i,new:i,shiftY:0},P.current=d.map((function(e){return 0}))}}}),[h,d,n]),T=Object(c.useCallback)((function(e){if(!(e.touches.length>1)){var t=e.changedTouches[0];_(e.target.closest("li"),t.pageY,t.identifier)}}),[_]),F=Object(c.useCallback)((function(e){0===e.button&&_(e.target.closest("li"),e.pageY)}),[_]),E=Object(c.useCallback)((function(e){if(h){var t;if(void 0!==h.touch){var n,c=Object(Tr.a)(e.changedTouches);try{for(c.s();!(n=c.n()).done;){var r=n.value;if(r.identifier===h.touch){t=r.pageY;break}}}catch(u){c.e(u)}finally{c.f()}}else t=e.pageY;if(void 0!==t){e.preventDefault();var a=t-h.dragStartY,o=h.itemTopOffset+a,i=R(h.itemHeights,h.itemSpacing,o,h.initialPosition),s=h.itemHeights[h.initialPosition];P.current=d.map((function(e,t){return t<h.initialPosition?t>=i?s+h.itemSpacing:0:t>h.initialPosition?t<=i?-1*(s+h.itemSpacing):0:a}));for(var l=0;l<d.length;)k.current.childNodes[l]&&(k.current.childNodes[l].style.transform="translateY(".concat(P.current[l],"px)")),l++;N.current={previous:h.initialPosition,new:i,shiftY:U(h.itemHeights,h.itemSpacing,h.initialPosition,i)-U(h.itemHeights,h.itemSpacing,h.initialPosition,h.initialPosition)}}}}),[h,d]),B=Object(c.useCallback)((function(){O(),v(!0);var e=L(w.current,N.current.previous,N.current.new);setTimeout((function(){v(!1),w.current=e;var t=e.map((function(e){return d[e]}));j(t),a(t,N.current)}),o)}),[d,o,a]),I=Object(c.useCallback)((function(e){var t,n=Object(Tr.a)(e.changedTouches);try{for(n.s();!(t=n.n()).done;){if(t.value.identifier===y.current)return void B()}}catch(c){n.e(c)}finally{n.f()}}),[B]),M=Object(c.useCallback)((function(e){1===e.which&&B()}),[B]);Object(c.useEffect)((function(){h?(S.current=E,void 0!==h.touch?(y.current=h.touch,window.addEventListener("touchmove",S.current,{passive:!1}),window.addEventListener("touchend",I)):(window.addEventListener("mousemove",S.current,{passive:!1}),window.addEventListener("mouseup",M))):(void 0!==y.current?(y.current=void 0,window.removeEventListener("touchmove",S.current,{passive:!1}),window.removeEventListener("touchend",I)):(window.removeEventListener("mousemove",S.current,{passive:!1}),window.removeEventListener("mouseup",M)),S.current=void 0)}),[h,M,I,E]);var L=function(e,t,n){return n<t?e.slice(0,n).concat(e[t]).concat(e.slice(n,t)).concat(e.slice(t+1)):n>t?e.slice(0,t).concat(e.slice(t+1,n+1)).concat(e[t]).concat(e.slice(n+1)):e.slice()},U=function(e,t,n,c){for(var r=0,a=0;a<c;)a===n?c++:r+=e[a]+t,a++;return r},R=function(e,t,n,c){for(var r=n+e[c]/2+t/2,a=0,o=0;o<e.length;){if(r<=(a+=e[o]+t))return o;o++}return e.length-1},W=function(e,t){for(var n,c;t;){if(t===e){if(!n)return;if(c)for(var r=0;r<t.childNodes.length;){if(t.childNodes[r]===c)return[c,r];r++}break}t.dataset&&(n=t),c=t,t=t.parentElement}},A={transform:"none"};function D(e,t,n,c,r){var a={position:"relative",transition:"all ".concat(c,"ms ").concat(r)};return e?(a.zIndex=1,t||(a.transition=void 0)):a.transform="translateY(".concat(n,"px)"),a}Object(c.useEffect)((function(){x&&(k.current.childNodes[N.current.previous].style.transform="translateY(".concat(N.current.shiftY,"px)"))}),[x]);var z=d.map((function(e,t){return Object(jt.jsx)("li",{style:h||x?D(t===N.current.previous,x,P.current[t],o,i):A,children:Object(jt.jsx)(r,Object(ht.a)({item:e},s))},e._id)}));return Object(jt.jsx)("ul",{ref:k,onTouchStart:T,onMouseDown:F,className:b.itemsList,children:z})},Er=function(e){var t=e.projectId,n=e.editable,r=Object(St.g)(),a=Object(c.useState)(!1),o=Object(wn.a)(a,2),i=o[0],s=o[1],u=Object(l.b)(),d=Object(c.useState)(!1),j=Object(wn.a)(d,2),b=j[0],p=j[1],f=Object(l.c)(ar),h=Object(l.c)(rr),O=Object(l.c)(sr),g=Object(l.c)(or);Object(c.useEffect)((function(){0!==f.length||h.tasksLoading||g||u(lr(t))}),[u,f.length,h.tasksLoading,t,g,r.location]),Object(c.useEffect)((function(){if(r.location.state&&f.length){r.location.state.taskId&&p(!0);var e=f.find((function(e){return e._id===r.location.state.taskId}));!e&&!h.tasksLoading&&r.location.state.taskId&&O.currentPage<=O.totalPagesCount&&u(lr(t,f.length)),e&&p(!1)}}),[r.location.state,f,u,O.currentPage,h.tasksLoading,t,O.totalPagesCount]),Object(c.useEffect)((function(){return function(){u(er())}}),[u]);var m=function(){for(var e=[],t=0;t<5;t++)e.push(Object(jt.jsx)(gc,{},t));return e};return g?b?m():Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(Ic,{context:"tasks",disabled:n,createNewText:"New Task",listText:"Tasks",open:i,toggleOpen:function(){s((function(e){return!e}))}}),Object(jt.jsx)(fr,{projectId:t,open:i}),g&&!f.length?Object(jt.jsx)("h2",{children:"No tasks created yet :("}):Object(jt.jsx)(_r.a,{dataLength:O.currentPage,hasMore:O.currentPage<=O.totalPagesCount,next:function(){u(lr(t,f.length))},loader:Object(jt.jsx)(gc,{}),scrollableTarget:"content",children:Object(jt.jsx)(Fr,{onChange:function(e,n){u(function(e,t,n){return function(c){if(n.new!==n.previous){c(Yc({action:re}));var r=t.map((function(e,t){return Object(ht.a)(Object(ht.a)({},e),{},{order:t})}));c(Zc(r)),Ac.updateTasksOrder(e,{prev:n.previous,new:n.new}).then((function(e){c(qc({action:re}))}))}}}(t,e,n))},projectId:t,isFetching:h.orderChange,listItems:f,itemComponent:Pr,animationDuration:200,animationEasing:"ease-out"})})]}):m()},Br=n(130),Ir=n.n(Br),Mr=function(){var e,t=Object(St.i)(),n=Object(l.b)(),r=Object(l.c)((e=t.projectId,Object($.a)(Je,(function(t){return t.find((function(t){return t._id===e}))})))),a=Object(l.c)($e),o=Object(l.c)(Ke);return Object(c.useEffect)((function(){return n(We(r)),r||n(function(e){return function(t){t(Re({action:ne})),_e.getProject(e).then((function(e){t(Ae({action:ne})),t(We(e.data.project))})).catch((function(e){t(Le(e.response.data)),t(Ae({action:ne}))}))}}(t.projectId)),function(){n(We(null))}}),[t.projectId,r,n]),Object(c.useEffect)((function(){return function(){n(Ue())}}),[n]),a?Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(x.a,{children:a.message}),Object(jt.jsx)(Ir.a,{style:{fontSize:50}}),Object(jt.jsx)(u.b,{to:"/home",style:Y,children:Object(jt.jsx)(rn.a,{variant:"contained",children:"Home"})})]}):o?Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(x.a,{align:"center",variant:"h4",component:"h1",children:"Complete this tasks"}),Object(jt.jsx)(hc,{project:o}),Object(jt.jsx)(Er,{projectId:o._id})]}):Object(jt.jsx)(gc,{})},Lr=function(){var e=Object(St.i)().userId,t=Object(l.c)(Ne),n=Object(l.c)(we),r=Object(l.b)();return Object(c.useEffect)((function(){t||n.activeUserFetching||r(function(e){return function(t){t(be({action:Q})),le.getUser(e).then((function(e){t(he(e)),t(pe({action:Q}))})).catch((function(e){console.log(e)}))}}(e))}),[r,n.activeUserFetching,t,e]),Object(c.useEffect)((function(){return function(){r(Oe())}}),[r]),t?Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)("h1",{children:t.user.alias}),t.projects.map((function(e){return console.log(e),Object(jt.jsx)(Cn.a,{style:{marginTop:10},children:e.projectName},e._id)}))]}):Object(jt.jsx)(jt.Fragment,{})},Ur=n(81),Rr=n.n(Ur),Wr=Object(G.b)({name:"forgotPassword",initialState:{pending:!1,error:null,emailSended:!1,passwordChanged:!1},reducers:{pending:function(e){e.pending=!0},success:function(e){e.pending=!1},failure:function(e,t){e.pending=!1,e.error=t.payload},clearError:function(e){e.error=null},setEmailSendedTrue:function(e){e.emailSended=!0},setEmailSendedFalse:function(e){e.emailSended=!1},setPasswordChanged:function(e,t){e.passwordChanged=t.payload}}}),Ar=Wr.actions,Dr=Ar.success,zr=Ar.failure,Hr=Ar.clearError,Yr=Ar.pending,qr=Ar.setEmailSendedFalse,Gr=Ar.setEmailSendedTrue,Jr=Ar.setPasswordChanged,$r=function(e){return e.forgotPassword.pending},Kr=function(e){return e.forgotPassword.error},Vr=function(e){return e.forgotPassword.emailSended},Xr=function(e){return e.forgotPassword.passwordChanged},Qr=Wr.reducer,Zr=function(e){var t=Mt(),n=Object(l.b)(),c=Object(l.c)($r),r=Object(l.c)(Kr);return Object(jt.jsxs)("form",{onSubmit:e.handleSubmit,className:t.form,children:[Object(jt.jsx)("div",{children:Object(jt.jsx)(Pt.a,{validate:Qt(qt,Jt),label:"Email",autoComplete:"email",name:"email",component:nn,autoFocus:!0,fullWidth:!0,err:r,clearError:function(){n(Hr())}})}),Object(jt.jsx)(on,{buttonText:"Send",progress:c})]})},ea=function(){var e=Mt(),t=Object(l.b)(),n=Object(l.c)(st),c=Object(l.c)(Vr);if(n)return Object(jt.jsx)(St.a,{to:"/"});return Object(jt.jsxs)(Et.a,{container:!0,component:"main",className:e.root,children:[Object(jt.jsx)(p.a,{}),Object(jt.jsx)(Et.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(jt.jsx)(Et.a,{item:!0,xs:12,sm:8,md:5,component:Ft.a,elevation:6,square:!0,children:Object(jt.jsxs)("div",{className:e.paper,children:[Object(jt.jsx)(_t.a,{size:"small",className:e.avatar,children:Object(jt.jsx)(Rr.a,{})}),Object(jt.jsx)(x.a,{component:"h1",variant:"h5",children:"Forgot password"}),c?Object(jt.jsx)(x.a,{style:{paddingTop:20,paddingBottom:20},align:"center",variant:"h6",component:"h6",children:Object(jt.jsx)("em",{children:"Please check your email to continue"})}):Object(jt.jsx)(Pt.b,{onSubmit:function(e){var n;t((n=e.email,function(e){e(Yr()),tt.forgotPassword(n).then((function(t){e(Dr()),e(Gr())})).catch((function(t){console.log(t.response.data),e(zr(t.response.data)),e(qr())}))}))},component:Zr}),Object(jt.jsxs)(Et.a,{container:!0,children:[Object(jt.jsx)(Et.a,{item:!0,xs:!0,children:Object(jt.jsx)(u.b,{style:q,to:"/login",variant:"body2",children:"Login"})}),Object(jt.jsxs)(Et.a,{item:!0,children:["Don't have an account? ",Object(jt.jsx)(u.b,{style:q,to:"/signup",children:"Sign Up"})]})]})]})})]})},ta=function(e){var t=Mt(),n=Object(l.c)($r);return Object(jt.jsxs)("form",{onSubmit:e.handleSubmit,className:t.form,children:[Object(jt.jsx)("div",{children:Object(jt.jsx)(Pt.a,{validate:Qt($t,Vt,Kt),label:"New password",name:"password",type:"password",autoComplete:"new-password",component:nn,autoFocus:!0,fullWidth:!0})}),Object(jt.jsx)("div",{children:Object(jt.jsx)(Pt.a,{validate:$t,autoComplete:"new-password",label:"Confirm password",type:"password",name:"passwordConfirmation",component:nn,fullWidth:!0})}),Object(jt.jsx)(on,{buttonText:"Send",progress:n})]})},na=function(){var e=Mt(),t=Object(l.b)(),n=Object(l.c)(st),c=Object(St.h)().pathname.split("/")[2],r=Object(l.c)(Xr);if(!c)return Object(jt.jsx)(St.a,{to:"/login"});if(r)return Object(jt.jsx)(St.a,{to:"/login"});if(n)return Object(jt.jsx)(St.a,{to:"/"});return Object(jt.jsxs)(Et.a,{container:!0,component:"main",className:e.root,children:[Object(jt.jsx)(p.a,{}),Object(jt.jsx)(Et.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(jt.jsx)(Et.a,{item:!0,xs:12,sm:8,md:5,component:Ft.a,elevation:6,square:!0,children:Object(jt.jsxs)("div",{className:e.paper,children:[Object(jt.jsx)(_t.a,{size:"small",className:e.avatar,children:Object(jt.jsx)(Rr.a,{})}),Object(jt.jsx)(x.a,{component:"h1",variant:"h5",children:"Reset password"}),Object(jt.jsx)(Pt.b,{validate:Xt,onSubmit:function(e){t(function(e,t){return function(n){n(Yr()),tt.resetPassword(e,t).then((function(e){n(Dr()),n(Jr(!0))})).catch((function(e){console.log(e.response.data),n(zr(e.response.data))}))}}(e.password,c))},component:ta}),Object(jt.jsx)(Et.a,{container:!0,children:Object(jt.jsx)(Et.a,{item:!0,xs:!0,children:Object(jt.jsx)(u.b,{style:q,to:"/login",variant:"body2",children:"Login"})})})]})})]})},ca=function(){return Object(l.c)(it)?Object(jt.jsx)(jt.Fragment,{}):Object(jt.jsxs)(St.d,{children:[Object(jt.jsx)(St.b,{path:"/login",component:ln}),Object(jt.jsx)(St.b,{path:"/signup",component:yn}),Object(jt.jsx)(St.b,{path:"/resetPassword",component:na}),Object(jt.jsx)(St.b,{path:"/forgotpassword",component:ea}),Object(jt.jsx)(St.b,{exact:!0,path:"/projects",render:function(){return Object(jt.jsx)(Mc,{},new Date)}}),Object(jt.jsx)(St.b,{path:"/projects/:projectId",component:Mr}),Object(jt.jsx)(St.b,{path:"/home",component:Wc}),Object(jt.jsx)(St.b,{exact:!0,path:"/users",component:Lc}),Object(jt.jsx)(St.b,{path:"/users/:userId",component:Lr}),Object(jt.jsx)(St.b,{exact:!0,path:"/",component:Uc})]})},ra=function(){var e=Object(l.c)(st),t=Object(l.c)(it),n=Object(l.b)(),c=Object(jt.jsx)(x.a,{color:"textPrimary",children:"Logout"}),r=Object(jt.jsx)(x.a,{color:"textPrimary",children:"Login"});return Object(jt.jsx)(jt.Fragment,{children:t?Object(jt.jsx)(an.a,{color:"inherit",size:24}):Object(jt.jsx)(rn.a,{color:"inherit",onClick:function(){e&&n((function(e){e(at()),tt.logout().then((function(){e(ot()),e(Ge())}))}))},children:e?c:r})})},aa=r.a.createContext(null);function oa(){var e=gt(),t=Object(c.useRef)(),n=Object(l.c)(yt),r=Object(l.c)(wt),a=Object(l.b)();return Object(jt.jsxs)("div",{className:e.root,children:[Object(jt.jsx)(p.a,{}),Object(jt.jsx)(O.a,{position:"absolute",className:Object(b.a)(e.appBar,r&&e.appBarShift),children:Object(jt.jsxs)(g.a,{className:e.toolbar,children:[Object(jt.jsx)(k.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){return a(kt())},className:Object(b.a)(e.menuButton,r&&e.menuButtonHidden),children:Object(jt.jsx)(C.a,{})}),Object(jt.jsx)(x.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"TO_DO"}),Object(jt.jsx)(k.a,{onClick:function(){return a(vt())},children:n?Object(jt.jsx)(_.a,{}):Object(jt.jsx)(F.a,{})}),Object(jt.jsx)("div",{style:{minWidth:90},children:Object(jt.jsx)(u.b,{className:e.loginButton,to:"/login",children:Object(jt.jsx)(ra,{})})})]})}),Object(jt.jsxs)(f.a,{variant:"permanent",classes:{paper:Object(b.a)(e.drawerPaper,!r&&e.drawerPaperClose)},open:r,children:[Object(jt.jsx)("div",{className:e.toolbarIcon,children:Object(jt.jsx)(k.a,{onClick:function(){return a(kt())},children:Object(jt.jsx)(S.a,{})})}),Object(jt.jsx)(v.a,{}),Object(jt.jsx)(m.a,{children:Object(jt.jsx)(bt,{})}),Object(jt.jsx)(v.a,{}),Object(jt.jsx)(m.a,{children:pt})]}),Object(jt.jsxs)("main",{ref:t,className:e.content,id:"content",children:[Object(jt.jsxs)("div",{className:e.contentWraper,children:[Object(jt.jsx)("div",{className:e.appBarSpacer}),Object(jt.jsx)(y.a,{maxWidth:"lg",className:e.container,children:Object(jt.jsx)(aa.Provider,{value:t,children:Object(jt.jsx)(ca,{})})}),Object(jt.jsx)("div",{className:e.push})]}),Object(jt.jsx)(h.a,{className:e.footer,children:Object(jt.jsx)(Nt,{})})]})]})}var ia=function(){var e=Object(l.c)(yt),t=Object(i.a)(d),n=Object(i.a)(j),r=Object(l.b)(),a=Object(l.c)(st);return Object(c.useEffect)((function(){a||r(lt())})),console.log("/to_do_react"),Object(jt.jsx)(s.a,{theme:e?t:n,children:Object(jt.jsx)(u.a,{basename:"/to_do_react",children:Object(jt.jsx)(oa,{})})})},sa=Object(G.a)({reducer:{theme:Ct,login:Yt,signUp:vn,forgotPassword:Qr,auth:ut,user:Se,project:et,task:ur,search:Ec}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(jt.jsx)(l.a,{store:sa,children:Object(jt.jsx)(ia,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[181,1,2]]]);
//# sourceMappingURL=main.49aa5c5f.chunk.js.map